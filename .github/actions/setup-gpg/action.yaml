name: 'Setup GPG Key'
description: 'Sets up the GPG key in the system as a pre-requisite for deployment'
inputs:
  gpgKey:
    required: true
    description: 'New version number for the project post release'
    default: ''

runs:
  using: "composite"
  steps:
    # Install gpg secret key in the environment as a pre-requisite for deployment
    - name: 'Setup GPG Key'
      run: |
        echo "{{ inputs.gogKey }}" | base64 --decode > key.txt
        wc -l key.txt
        gpg --batch --import-options import-show --import key.txt
        rm -rf key.txt
      shell: bash